<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LiveChat</title>
  <link rel="stylesheet" href="../styles/chat.css">
</head>
<body>

  <!-- ── Sidebar: online users ── -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
        </svg>
        <span>LiveChat</span>
      </div>
      <span class="online-count" id="online-count">0 online</span>
    </div>

    <div class="user-list" id="user-list">
      <!-- populated by JS -->
    </div>

    <div class="sidebar-footer">
      <div class="current-user" id="current-user-info">
        <div class="avatar avatar-sm" id="my-avatar"></div>
        <span class="my-name" id="my-name"></span>
      </div>
      <button class="btn-logout" id="btn-logout" title="Sair">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16 17 21 12 16 7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
      </button>
    </div>
  </aside>

  <!-- ── Toggle sidebar on mobile ── -->
  <button class="sidebar-toggle" id="sidebar-toggle">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="3" y1="12" x2="21" y2="12"/>
      <line x1="3" y1="6" x2="21" y2="6"/>
      <line x1="3" y1="18" x2="21" y2="18"/>
    </svg>
  </button>

  <!-- ── Main chat area ── -->
  <main class="chat-main">
    <div class="chat-header">
      <h2>Chat Geral</h2>
      <span class="typing-indicator" id="typing"></span>
    </div>

    <div class="messages-area" id="messages-area">
      <ul id="messages"></ul>
    </div>

    <form class="message-bar" id="message-form">
      <input type="text" id="message-input" placeholder="Digite sua mensagem..." autocomplete="off" />
      <button type="submit" class="btn-send" id="send-button">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="22" y1="2" x2="11" y2="13"/>
          <polygon points="22 2 15 22 11 13 2 9 22 2"/>
        </svg>
      </button>
    </form>
  </main>

  <script src="/socket.io/socket.io.js"></script>
  <script src="../scripts/chat.js"></script>
</body>
</html>
